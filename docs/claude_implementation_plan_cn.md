# "奇点编辑部" (MVP) 架构规划

我需要你为名为 **"奇点编辑部" (The Singularity Editorial)** 的 Python MVP 应用制定一份全面的实施计划。该应用旨在通过 4 个不同的 AI Agent 顺序处理内容，模拟一个"一人编辑部"的工作流。

## 1. 项目目标

构建一个本地 Web 应用，用户扮演"总编"角色。用户输入一个原始话题或链接，系统通过 4 阶段的 AI 流水线进行处理，最终生成一份具有病毒传播潜力的、硬核科幻风格的视频脚本及分发策略。

## 2. 技术栈要求

| 类别 | 选型 |
|------|------|
| **语言** | Python 3.9+ |
| **UI 框架** | Streamlit（必须使用 `st.session_state` 管理工作流状态流转） |
| **LLM 集成** | 通用 OpenAI 兼容客户端（如 `openai` 库） |
| **配置管理** | `python-dotenv` 进行 API Key 管理 |

> **关键点：**
> - 不要硬编码任何 Key，使用 `.env` 文件结构。
> - 允许用户在 `.env` 中覆盖 `BASE_URL`（以便未来支持通过 OneAPI 接入 DeepSeek / Gemini）。

## 3. 4-Agent 流水线（核心逻辑）

规划 4 个模块化的 Agent 类。每一个 Agent 都将上一步的输出作为自己的输入。

### Agent 1: 情报采编员 (The Sentinel)

- **角色：** 筛选"高熵"信息。
- **逻辑：** 强制将用户的输入与经典的**科幻母题**（如《沙丘》、《三体》）或**历史镜像**（如罗马帝国、大航海时代）进行强关联。
- **输出：** 包含"现实事件"与"科幻对照"的结构化简报。

### Agent 2: 逻辑对垒手 (The Adversary)

- **角色：** 基于博弈论和演化心理学的"魔鬼代言人"。
- **逻辑：** **绝对不**同意输入观点。寻找逻辑谬误、人类中心主义偏见，并应用"熵增定律"来攻击论点。
- **输出：** 一个"打磨后的核心论点"和"逻辑漏洞列表"。

### Agent 3: 神经编剧 (The Visual Director)

- **角色：** 将论点转化为视频脚本。
- **逻辑：** 应用神经营销学原理。必须给脚本的每个部分标注目标神经递质：
  - **多巴胺** — 好奇 / 预期
  - **催产素** — 共情 / 信任
  - **内啡肽** — 幽默 / 顿悟时刻

  视觉风格定义为"赛博朋克 / 终端风"。
- **输出：** 双栏脚本（视觉提示词 vs 音频解说）。

### Agent 4: 流量黑客 (The Growth Hacker)

- **角色：** 最大化点击率 (CTR) 和病毒传播潜力。
- **逻辑：** 利用"好奇心缺口"和"智力冒犯感"生成标题，设计能引发辩论的封面概念。
- **输出：** 5 个标题 + 3 个封面描述 + 标签。

## 4. 规划交付物

请生成一份详细的计划，包含：

1. **文件结构** — 清晰、模块化的文件夹结构（例如单独的 `agents/` 目录）。
2. **类设计** — Agent 基类和 4 个具体子类的伪代码或大纲。
3. **数据流** — 在 Streamlit 中，状态如何从一个 Agent 传递到下一个 Agent。
4. **配置** — 如何设置 `.env` 文件和 API 客户端，以便后续可以"填空式"配置 API Key。
5. **分步实施指南** — 可照着执行的构建步骤列表。
